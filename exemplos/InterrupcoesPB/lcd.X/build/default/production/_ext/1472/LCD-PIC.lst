MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;*****************************************************************************
                      00002 ;ARQUIVO FONTE CONTENDO ROTINAS DE ACESSO A UM LCD 
                      00003 ;CONFIGURADO PARA TRABALHAR COM 4 BITS DE DADOS
                      00004 ;                                                                              
                      00005 ;                                       PIC16F628 COM LCD DE 4 BITS
                      00006 ;                          __________                                          
                      00007 ;                    -RA2 |1       18| RA1---------
                      00008 ;                    -RA3 |2       17| RA0---------                   
                      00009 ;                    -RA4 |3       16| OSC1--------CRISTAL/RESSONADOR CERÂMICO                        
                      00010 ;         ----------/MCLR |4       15| OSC2--------CRISTAL/RESSONADOR CERÂMICO                        
                      00011 ;     GROUND----------VSS |5       14| VDD--------- VCC(+5V)                        
                      00012 ;     LCD11(D4)-------RB0 |6       13| RB7---------                   
                      00013 ;     LCD12(D5)-------RB1 |7       12| RB6---------LCD_RS  (LCD PIN 4)         
                      00014 ;     LCD13(D6)-------RB2 |8       11| RB5---------LCD_RW  (LCD PIN 5)           
                      00015 ;     LCD14(D7)-------RB3 |9       10| RB4---------LCD_EN   (LCD PIN 6)         
                      00016 ;                          ----------                                          
                      00017 ;                                                                              
                      00018 ; ****************************************************************************
                      00019 #INCLUDE<P16F628A.INC>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F628A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00385         LIST
                      00020 
2007   3F21           00021  __CONFIG _CP_OFF&_LVP_OFF&_BODEN_OFF&_MCLRE_ON&_PWRTE_ON&_WDT_OFF&_XT_OSC  
                      00022 
                      00023 
  0000                00024         EXTERN  TBL_PTR 
  0000                00025         EXTERN  TBL_Read
                      00026 
                      00027 ; ****************************************************************************
  00000003            00028 LCD_BUSY EQU    3                 ; BUSY BIT (BIT D7 NA LEITURA)
  00000004            00029 LCD_EN   EQU    4                 ; 0=DISABLE(DESABILITA), 1=ENABLE(HABILITA)
  00000005            00030 LCD_RW  EQU     5                 ; 0=WRITE(ESCRITA), 1=READ(LEITURA)
  00000006            00031 LCD_RS  EQU     6                 ; 0=INSTRUCAO, 1=DADA
                      00032 
                      00033 ; ****************************************************************************
                      00034         CBLOCK  0X20              
  00000020            00035                 LCD_CHAR                  
  00000021            00036             LCD_READ                 
  00000022            00037                 TIMER1                   
  00000023            00038                 TIMER2                  
  00000024            00039             RS_FLAG   
  00000025            00040             W_TMP
                      00041         ENDC                    
                      00042 
                      00043 ; ****************************************************************************             
                      00044         ORG     0X0000                
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000                  00045 RESET
0000   2???           00046         GOTO    START   
                      00047          
                      00048 ; *****************************************************************************
0001                  00049 START
0001   018B           00050         CLRF    INTCON            
0002   3007           00051         MOVLW   0X07              
0003   009F           00052         MOVWF   CMCON             
0004   1683           00053         BSF     STATUS,RP0      
0005   30FF           00054         MOVLW   0XFF              
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   0085           00055         MOVWF   TRISA             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0007   0186           00056         CLRF    TRISB             
0008   1283           00057         BCF     STATUS,RP0      
0009   2???           00058         CALL    INIT_LCD
                      00059 
                      00060 ; *****************************************************************************
000A                  00061 PRINCIPAL     
                      00062                 ;CALL   WRITE_MENU_LINE1
                      00063                 ;CALL   WAIT_256MS
                      00064                 ;CALL   WRITE_MENU_LINE2
                      00065                 ;CALL   WAIT_256MS
000A   3080           00066                 movlw   0x80
000B   2???           00067                 CALL    CMD_LCD
                      00068                 
000C   1283 1303      00069                 BANKSEL W_TMP
000E   01A5           00070                 CLRF    W_TMP
000F                  00071 STR_LOOP:
000F   ???? ????      00072             BANKSEL TBL_PTR
0011   30??           00073             MOVLW   HIGH (MSG_TESTE1)
0012   00??           00074             MOVWF   TBL_PTR
0013   30??           00075             MOVLW   LOW (MSG_TESTE1)
0014   00??           00076             MOVWF   TBL_PTR+1
0015   1283 1303      00077             BANKSEL W_TMP
0017   0825           00078             MOVF    W_TMP,W 
0018   2???           00079             CALL    TBL_Read
0019   3A00           00080             XORLW   0        ; é final de string?
001A   1D03           00081             BTFSS   STATUS,Z            
001B   2???           00082             GOTO    MSG_TESTE_NEXT
001C   2???           00083             GOTO    MSG_TESTE_END
                      00084     
001D                  00085 MSG_TESTE_NEXT:
001D   2???           00086                 call    DATA_LCD
001E   1283 1303      00087             BANKSEL W_TMP
0020   0AA5           00088             INCF    W_TMP,F
0021   2???           00089             CALL    WAIT_256MS
0022   2???           00090             GOTO    STR_LOOP
                      00091     
0023                  00092 MSG_TESTE_END:
                      00093             
                      00094                 
                      00095                 
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0023   3001           00096                 MOVLW   0X01
0024   2???           00097                 CALL    CMD_LCD
0025   2???           00098                 CALL    WAIT_256MS
0026   2???           00099                 GOTO    PRINCIPAL
                      00100 
                      00101 ; *****************************************************************************
                      00102 ; ROTINAS PARA TRABALHAR COM O LCD CONFIGURADO PARA 4 BITS
                      00103 ; *****************************************************************************
                      00104 ; RESUMO DO COMPORTAMENTO DO LCD
                      00105 ;       RS      R//W    Função
                      00106 ;       0       0               Escrita no LCD
                      00107 ;       0       1               Leitura do bit D7 (Busy Flag): busy(ocupado)=1
                      00108 ;       1       0               Escrita na DDRAM ou CGRAM
                      00109 ;       1       1               Leitura da DDRAM ou CGRAM
                      00110 ;
                      00111 ;       EN              Função
                      00112 ;       L>H             Habilita LCD (transição de nível lógico baixo para alto)
                      00113 ; *****************************************************************************
                      00114 ;INIT_LCD
                      00115 ;TRANSFERE PARA O LCD AS CONDIÇOES DE INICIALIZAÇAO 
                      00116 ;LOGO AO LIGAR/RESETAR O MICROCONTROLADOR
0027                  00117 INIT_LCD
0027   2???           00118         CALL    WAIT_64MS         ;
0028   3003           00119         MOVLW   0X03              ;               
0029   0086           00120         MOVWF   PORTB             ;                 
002A   1606           00121         BSF     PORTB,LCD_EN       ;
002B   1206           00122         BCF     PORTB,LCD_EN       ;
002C   2???           00123         CALL    WAIT_64MS         ; 
                      00124         
002D   3003           00125         MOVLW   0X03              ;            
002E   0086           00126         MOVWF   PORTB             ;               
002F   1606           00127         BSF     PORTB,LCD_EN       ; 
0030   1206           00128         BCF     PORTB,LCD_EN       ;  
0031   2???           00129         CALL    WAIT_32MS         ;   
                      00130         
0032   3003           00131         MOVLW   0X03              ;            
0033   0086           00132         MOVWF   PORTB             ;             
0034   1606           00133         BSF     PORTB,LCD_EN       ;
0035   1206           00134         BCF     PORTB,LCD_EN       ; 
0036   2???           00135         CALL    WAIT_32MS         ; 
                      00136         
0037   3002           00137         MOVLW   0X02              ;          
0038   0086           00138         MOVWF   PORTB             ;                 
0039   1606           00139         BSF     PORTB,LCD_EN       ; 
003A   1206           00140         BCF     PORTB,LCD_EN       ;  
003B   2???           00141         CALL    WAIT_16MS         ;   
                      00142         
003C   3028           00143         MOVLW   0X28              ;
003D   2???           00144         CALL    CMD_LCD          ; 
003E   3008           00145         MOVLW   0X08              ;
003F   2???           00146         CALL    CMD_LCD          ;
0040   3001           00147         MOVLW   0X01              ;
0041   2???           00148         CALL    CMD_LCD          ;
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0042   3006           00149         MOVLW   0X06              ; 
0043   2???           00150         CALL    CMD_LCD          ;
0044   300C           00151         MOVLW   0X0C              ; 
0045   2???           00152         CALL    CMD_LCD          ;
0046   0008           00153         RETURN                    ; 
                      00154 
                      00155 ; *****************************************************************************
                      00156 ;BUSY_CHECK
                      00157 ;VERIFICA SE B.F (BUSY FLAG) QUE INDICA SE O LCD
                      00158 ;ESTÁ OU NAO PRONTO PARA RECEBER NOVO DADO/COMANDO
                      00159 ;PARA ISSO O BIT DB7 DO LCD ESTÁ LIGADO AO RB3 DO PIC
0047                  00160 BUSY_CHECK
0047   0186           00161         CLRF    PORTB             ; 
0048   1683           00162         BSF     STATUS,RP0        ;BANK1 
0049   3008           00163         MOVLW   B'00001000'       ;RB3 PARA ENTRADA (BUSY FLAG)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   0086           00164         MOVWF   TRISB             ; 
004B   1283           00165         BCF     STATUS,RP0        ;BANK0 
004C   1206           00166         BCF     PORTB,LCD_EN      ;DESABILITA LCD (EN=0)
004D   1306           00167         BCF     PORTB,LCD_RS      ;HABILITA LEITURA DO LCD(RS = 0) 
004E   1686           00168         BSF     PORTB,LCD_RW      ;HABILITA LEITURA DO LCD (RW = 1)  
004F                  00169 LCD_IS_BUSY
004F   1606           00170         BSF     PORTB,LCD_EN      ;HABILITA LCD (EN=1)
0050   0806           00171         MOVF    PORTB,W           ;LE PORTB
0051   00A1           00172         MOVWF   LCD_READ          ;GUARDA EM "LCD_READ" PARA POSTERIOR USO
0052   1206           00173         BCF     PORTB,LCD_EN      ;DESABILITA LCD (EN=0)
0053   2???           00174                 CALL    WAIT_4MS
0054   19A1           00175         BTFSC   LCD_READ,LCD_BUSY ;TESTA SE B.F =0
0055   2???           00176         GOTO    LCD_IS_BUSY       ;SE B.F=1 LCD VOLTA PARA TESTAR NOVAMENTE O BIT
0056                  00177 NOT_BUSY
0056   0008           00178         RETURN                    ; 
                      00179 
                      00180 ; *****************************************************************************
                      00181 ;CMD_LCD
                      00182 ;ENTRADA EM "W" PARA O COMANDO QUE SERÁ ENVIADO AO LCD
                      00183 ;VERIFICAR TABELA DE COMANDOS
0057                  00184 CMD_LCD 
0057   00A0           00185         MOVWF   LCD_CHAR         ;GUARDA COMANDO EM UM BUFFER
0058   01A4           00186         CLRF    RS_FLAG          ;ZERA REGISTRADOR RS_FLAG
0059   1306           00187         BCF     PORTB,LCD_RS      ;RS=0
005A   2???           00188         GOTO    WRITE_LCD         ;ESCREVE NO LCD
                      00189 
                      00190 ; *****************************************************************************
                      00191 ;DATA_LCD  
                      00192 ;;ENTRADA EM "W" QUE SERÁ O CARACTERE ENVIADO AO LCD
005B                  00193 DATA_LCD  
005B   00A0           00194         MOVWF   LCD_CHAR          ;
005C   1424           00195         BSF     RS_FLAG,0        ; 
005D   1706           00196         BSF     PORTB,LCD_RS      ;
005E                  00197 WRITE_LCD
005E   2???           00198         CALL    BUSY_CHECK        ; 
005F   0186           00199         CLRF    PORTB             ; 
0060   1683           00200         BSF     STATUS,RP0      ; 
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0061   3000           00201         MOVLW   0X00              ; 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0062   0086           00202         MOVWF   TRISB             ; 
0063   1283           00203         BCF     STATUS,RP0      ; 
0064   1286           00204         BCF     PORTB,LCD_RW      ; 
0065   1306           00205         BCF     PORTB,LCD_RS      ;        
0066   1824           00206         BTFSC   RS_FLAG,0        ; 
0067   1706           00207         BSF     PORTB,LCD_RS      ;                   
                      00208 ;TRANSFERE 4 BITS MSB PARA O LCD
0068   30F0           00209         MOVLW   0XF0              ;                                    
0069   0586           00210         ANDWF   PORTB,F           ;      
006A   0E20           00211         SWAPF   LCD_CHAR,W        ;         
006B   390F           00212         ANDLW   0X0F              ;           
006C   0486           00213         IORWF   PORTB,F           ;      
006D   1606           00214         BSF     PORTB,LCD_EN       ; 
006E   0000           00215         NOP                       ;  
006F   1206           00216         BCF     PORTB,LCD_EN       ;  
                      00217 ;TRANSFERE 4 BITS LSB PARA O LCD
0070   30F0           00218         MOVLW   0XF0              ;                                     
0071   0586           00219         ANDWF   PORTB,F           ;                    
0072   0820           00220         MOVF    LCD_CHAR,W        ;                
0073   390F           00221         ANDLW   0X0F              ;                
0074   0486           00222         IORWF   PORTB,F           ;       
0075   1606           00223         BSF     PORTB,LCD_EN       ; 
0076   0000           00224         NOP                       ;  
0077   1206           00225         BCF     PORTB,LCD_EN       ;  
0078   0008           00226         RETURN
                      00227 
                      00228 ; *****************************************************************************
                      00229 ;WRITE_MENU_LINE1
                      00230 ;CONTEM OS CARACTERES QUE SERÃO MOSTRADOS NA PRIMEIRA LINHA DO LCD
0079                  00231 WRITE_MENU_LINE1
0079   3080           00232         MOVLW   0X80              ;POSICIONO PARA PRIMEIRA LINHA
007A   2???           00233         CALL    CMD_LCD          ;
                      00234 
007B   302A           00235         MOVLW   '*'               ;               
007C   2???           00236         CALL    DATA_LCD          ;
007D   3053           00237         MOVLW   'S'               ;               
007E   2???           00238         CALL    DATA_LCD          ;
007F   3045           00239         MOVLW   'E'               ;                   
0080   2???           00240         CALL    DATA_LCD          ;
0081   304E           00241         MOVLW   'N'               ;                 
0082   2???           00242         CALL    DATA_LCD          ;
0083   3041           00243         MOVLW   'A'               ;                
0084   2???           00244         CALL    DATA_LCD          ;
0085   3049           00245         MOVLW   'I'               ;                
0086   2???           00246         CALL    DATA_LCD          ;
0087   3020           00247         MOVLW   ' '               ;               
0088   2???           00248         CALL    DATA_LCD          ;
0089   3041           00249         MOVLW   'A'               ;               
008A   2???           00250         CALL    DATA_LCD          ;        
008B   304E           00251         MOVLW   'N'               ;               
008C   2???           00252         CALL    DATA_LCD          ;
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

008D   3043           00253         MOVLW   'C'               ;                
008E   2???           00254         CALL    DATA_LCD          ;
008F   3048           00255         MOVLW   'H'               ;              
0090   2???           00256         CALL    DATA_LCD          ;
0091   3049           00257         MOVLW   'I'               ;               
0092   2???           00258         CALL    DATA_LCD          ;
0093   3045           00259         MOVLW   'E'               ;               
0094   2???           00260         CALL    DATA_LCD          ;
0095   3054           00261         MOVLW   'T'               ; 
0096   2???           00262         CALL    DATA_LCD          ;
0097   3041           00263         MOVLW   'A'               ; 
0098   2???           00264         CALL    DATA_LCD          ;
0099   302A           00265         MOVLW   '*'               ; 
009A   2???           00266         CALL    DATA_LCD          ;
009B   0008           00267                 RETURN
                      00268                 
                      00269 ; *****************************************************************************
                      00270 ;WRITE_MENU_LINE2
                      00271 ;CONTEM OS CARACTERES QUE SERÃO MOSTRADOS NA SEGUNDA LINHA DO LCD
009C                  00272 WRITE_MENU_LINE2
009C   30C3           00273         MOVLW   0XC3              ;POSICIONO PARA SEGUNDA LINHA
009D   2???           00274         CALL    CMD_LCD          ;
                      00275 
009E   302A           00276         MOVLW   '*'               ;               
009F   2???           00277         CALL    DATA_LCD          ;
00A0   2???           00278                 CALL    WAIT_128MS
00A1   3050           00279         MOVLW   'P'               ;               
00A2   2???           00280         CALL    DATA_LCD          ;
00A3   2???           00281                 CALL    WAIT_128MS
00A4   3049           00282         MOVLW   'I'               ;                   
00A5   2???           00283         CALL    DATA_LCD          ;
00A6   2???           00284                 CALL    WAIT_128MS
00A7   3043           00285         MOVLW   'C'               ;                 
00A8   2???           00286         CALL    DATA_LCD          ;
00A9   2???           00287                 CALL    WAIT_128MS
00AA   3031           00288         MOVLW   '1'               ;                
00AB   2???           00289         CALL    DATA_LCD          ;
00AC   2???           00290                 CALL    WAIT_128MS
00AD   3036           00291         MOVLW   '6'               ;                
00AE   2???           00292         CALL    DATA_LCD          ;
00AF   2???           00293                 CALL    WAIT_128MS
00B0   3046           00294         MOVLW   'F'               ;               
00B1   2???           00295         CALL    DATA_LCD          ;
00B2   2???           00296                 CALL    WAIT_128MS
00B3   3036           00297         MOVLW   '6'               ;               
00B4   2???           00298         CALL    DATA_LCD          ;        
00B5   2???           00299                 CALL    WAIT_128MS
00B6   3032           00300         MOVLW   '2'               ;               
00B7   2???           00301         CALL    DATA_LCD          ;
00B8   2???           00302                 CALL    WAIT_128MS
00B9   3038           00303         MOVLW   '8'               ;                
00BA   2???           00304         CALL    DATA_LCD          ;
00BB   2???           00305                 CALL    WAIT_128MS
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BC   302A           00306         MOVLW   '*'               ; 
00BD   2???           00307         CALL    DATA_LCD          ;
00BE   2???           00308                 CALL    WAIT_128MS
00BF   0008           00309                 RETURN
                      00310 
                      00311 
                      00312 ; *****************************************************************************
                      00313 ;DELAY
                      00314 ;DIVERSAS SUB ROTINAS DE TEMPORIZAÇÃO POR SOFTWARE
00C0                  00315 WAIT_A_SEC  ;      
00C0   2???           00316         CALL    WAIT_256MS        ;       
00C1   2???           00317         CALL    WAIT_256MS        ;       
00C2   2???           00318         CALL    WAIT_256MS        ;       
00C3   2???           00319         CALL    WAIT_256MS        ;       
00C4   0008           00320         RETURN
00C5                  00321 WAIT_HALF_SEC  ;      
00C5   2???           00322         CALL    WAIT_256MS        ;       
00C6   2???           00323         CALL    WAIT_256MS        ;       
00C7                  00324 WAIT_256MS  ;      
00C7   2???           00325         CALL    WAIT_128MS        ;
00C8   2???           00326         CALL    WAIT_128MS        ;
00C9   0008           00327         RETURN
00CA                  00328 WAIT_128MS  ;      
00CA   30FF           00329         MOVLW   0XFF              ;  
00CB   00A2           00330         MOVWF   TIMER1            ;  
00CC   2???           00331         GOTO    OUTER_LOOP        ; 
00CD                  00332 WAIT_64MS  ;       
00CD   3080           00333         MOVLW   0X80              ;
00CE   2???           00334         GOTO    OUTER_LOOP        ;
00CF                  00335 WAIT_32MS   ;      
00CF   3040           00336         MOVLW   0X40              ; 
00D0   00A2           00337         MOVWF   TIMER1            ;  
00D1   2???           00338         GOTO    OUTER_LOOP        ; 
00D2                  00339 WAIT_16MS   ;      
00D2   3020           00340         MOVLW   0X20              
00D3   00A2           00341         MOVWF   TIMER1            ;  
00D4   2???           00342         GOTO    OUTER_LOOP        ; 
00D5                  00343 WAIT_8MS   ;       
00D5   3010           00344         MOVLW   0X10              ; 
00D6   00A2           00345         MOVWF   TIMER1            ;  
00D7   2???           00346         GOTO    OUTER_LOOP        ;
00D8                  00347 WAIT_4MS   ;       
00D8   3008           00348         MOVLW   0X8               ; 
00D9   00A2           00349         MOVWF   TIMER1            ;  
00DA   2???           00350         GOTO    OUTER_LOOP        ;
                      00351 
00DB                  00352 WAIT_5US    ;       
00DB   0000           00353         NOP
00DC   0008           00354         RETURN
00DD                  00355 WAIT_10US   ;       
00DD   2???           00356         CALL     WAIT_5US
00DE   0000           00357         NOP
00DF   0008           00358         RETURN
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E0                  00359 WAIT_25US   ;       
00E0   2???           00360         CALL     WAIT_10US
00E1   2???           00361         CALL     WAIT_10US
00E2   0000           00362         NOP
00E3   0008           00363         RETURN
00E4                  00364 WAIT_50US   ;       
00E4   3013           00365         MOVLW    13              
00E5   00A3           00366         MOVWF    TIMER2
00E6   3001           00367         MOVLW    1
00E7   00A2           00368         MOVWF    TIMER1
00E8   2???           00369         GOTO     INNER_LOOP
00E9                  00370 WAIT_100US   ;       
00E9   0000           00371         NOP
00EA   0000           00372         NOP
00EB   3029           00373         MOVLW    29
00EC   00A3           00374         MOVWF    TIMER2
00ED   3001           00375         MOVLW    1
00EE   00A2           00376         MOVWF    TIMER1
00EF   2???           00377         GOTO     INNER_LOOP
00F0                  00378 WAIT_200US   ;       
00F0   3063           00379         MOVLW    63
00F1   00A3           00380         MOVWF    TIMER2
00F2   3001           00381         MOVLW    1
00F3   00A2           00382         MOVWF    TIMER1
00F4   2???           00383         GOTO     INNER_LOOP
00F5                  00384 WAIT_500US   ;       
Warning[202]: Argument out of range.  Least significant bits used.
00F5   3063           00385         MOVLW    163
00F6   00A3           00386         MOVWF    TIMER2
00F7   3001           00387         MOVLW    1
00F8   00A2           00388         MOVWF    TIMER1
00F9   2???           00389         GOTO     INNER_LOOP
00FA                  00390 WAIT_1MS   ;       
00FA   2???           00391         CALL     WAIT_500US
Warning[202]: Argument out of range.  Least significant bits used.
00FB   3062           00392         MOVLW    162
00FC   00A3           00393         MOVWF    TIMER2
00FD   2???           00394         CALL     WAIT_XUS
00FE   0008           00395         RETURN   
00FF                  00396 WAIT_2MS   ;       
00FF   2???           00397         CALL     WAIT_1MS
0100   2???           00398         CALL     WAIT_500US
Warning[202]: Argument out of range.  Least significant bits used.
0101   3061           00399         MOVLW    161
0102   00A3           00400         MOVWF    TIMER2
0103   2???           00401         CALL     WAIT_XUS
0104   0008           00402         RETURN   
                      00403 ; TEMPO É ((TIMER2-1)*3)  (779US MAX QUANDO TIMER2 = 0) 
0105                  00404 WAIT_XUS   ;                             
0105   3001           00405         MOVLW    1
0106   00A2           00406         MOVWF    TIMER1
0107   2???           00407         GOTO     INNER_LOOP
                      00408 ;
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0108                  00409 OUTER_LOOP                        
0108   30FF           00410         MOVLW   0XFF               
0109   00A3           00411         MOVWF   TIMER2              
010A                  00412 INNER_LOOP
010A   0BA3           00413         DECFSZ  TIMER2,F         
010B   2???           00414         GOTO    INNER_LOOP         
                      00415                                  
010C   0BA2           00416         DECFSZ  TIMER1,F         
010D   2???           00417         GOTO    OUTER_LOOP       
                      00418                                  
010E   0008           00419         RETURN                  
                      00420 
                      00421 ; *****************************************************************************
                      00422 ;
                      00423 
                      00424 
                      00425 
                      00426 ;
                      00427 ;
                      00428 ;
010F   3461 3462 3463 00429 MSG_TESTE:      DT "abcdefghijklmn"0
       3464 3465 3466 
       3467 3468 3469 
       346A 346B 346C 
       346D 346E 3400 
011E   3474 3465 3473 00430 MSG_TESTE1:     DT "teste1"0
       3474 3465 3431 
       3400 
                      00431 
3F21                  00432         END
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 10


SYMBOL TABLE
  LABEL                             VALUE 

ADDEN                             00000003
ADEN                              00000003
BRGH                              00000002
BUSY_CHECK                        00000047
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMD_LCD                           00000057
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
DATA_CP_OFF                       00003FFF
DATA_CP_ON                        00003EFF
DATA_LCD                          0000005B
DC                                00000001
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GIE                               00000007
INDF                              00000000
INIT_LCD                          00000027
INNER_LOOP                        0000010A
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

LCD_BUSY                          00000003
LCD_CHAR                          00000020
LCD_EN                            00000004
LCD_IS_BUSY                       0000004F
LCD_READ                          00000021
LCD_RS                            00000006
LCD_RW                            00000005
MSG_TESTE                         0000010F
MSG_TESTE1                        0000011E
MSG_TESTE_END                     00000023
MSG_TESTE_NEXT                    0000001D
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_BUSY                          00000056
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OERR                              00000001
OPTION_REG                        00000081
OSCF                              00000003
OUTER_LOOP                        00000108
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PRINCIPAL                         0000000A
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RESET                             00000000
RP0                               00000005
RP1                               00000006
RS_FLAG                           00000024
RX9                               00000006
RX9D                              00000000
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
START                             00000001
STATUS                            00000003
STR_LOOP                          0000000F
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TBL_PTR                           00000000
TBL_Read                          00000000
TIMER1                            00000022
TIMER2                            00000023
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRMT                              00000001
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
W                                 00000000
WAIT_100US                        000000E9
WAIT_10US                         000000DD
WAIT_128MS                        000000CA
WAIT_16MS                         000000D2
WAIT_1MS                          000000FA
WAIT_200US                        000000F0
WAIT_256MS                        000000C7
WAIT_25US                         000000E0
WAIT_2MS                          000000FF
WAIT_32MS                         000000CF
WAIT_4MS                          000000D8
WAIT_500US                        000000F5
WAIT_50US                         000000E4
WAIT_5US                          000000DB
WAIT_64MS                         000000CD
WAIT_8MS                          000000D5
WAIT_A_SEC                        000000C0
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

WAIT_HALF_SEC                     000000C5
WAIT_XUS                          00000105
WR                                00000001
WREN                              00000002
WRERR                             00000003
WRITE_LCD                         0000005E
WRITE_MENU_LINE1                  00000079
WRITE_MENU_LINE2                  0000009C
W_TMP                             00000025
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEVID1                           00002006
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_FOSC_ECIO                        00003FEF
_FOSC_EXTRCCLK                    00003FFF
_FOSC_EXTRCIO                     00003FFE
_FOSC_HS                          00003FEE
_FOSC_INTOSCCLK                   00003FFD
_FOSC_INTOSCIO                    00003FFC
_FOSC_LP                          00003FEC
_FOSC_XT                          00003FED
_HS_OSC                           00003FEE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_INTOSC_OSC_CLKOUT                00003FFD
_INTOSC_OSC_NOCLKOUT              00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC_CLKOUT                    00003FFF
_RC_OSC_NOCLKOUT                  00003FFE
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
MPASM  5.50                       LCD-PIC.ASM   6-26-2013  16:37:51         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

_XT_OSC                           00003FED
__16F628A                         00000001

Errors   :     0
Warnings :     3 reported,     0 suppressed
Messages :     4 reported,     0 suppressed

